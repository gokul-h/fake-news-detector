<html>
  <head>
    <title>Fake News Detection</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  </head>

  <body>
    <h3>Fake News Detector</h3>
    <hr />
    <p id="response"></p>
    <p id="url"></p>
    <script>
      async function dosomething() {
        var current_url =
          "https://edition.cnn.com/2023/03/20/world/ipcc-synthesis-report-climate-intl/index.html";
        var azure_url = "http://localhost:7071/api/fake_news_deployment";
        const json = JSON.stringify([{ url: current_url }]);
        customConfig = {
          method: "POST",
          mode: "no-cors",
          headers: {
            "Content-Type": "application/json",
            "Access-Control-Allow-Origin": "*",
          },
        };
        const result = await axios.post(azure_url,json);
        if (result.data[0]["prediction"] == 1){
            document.getElementById("response").innerHTML = "This news appears to be fake!"
        }
        else if (result.data[0]["prediction"] == 0){
            document.getElementById("response").innerHTML = "This news appears to be genuine!"
        }
        else{
            document.getElementById("response").innerHTML = "Error"
        }
      }
      dosomething();
    </script>
  </body>
</html>
